FROM scratch

ADD memcash /memcash

# Add certificates for container
ADD ca-certificates.crt /etc/ssl/certs/ca-certificates.crt

WORKDIR /

ARG MEMCASH_GRPC_PORT
ARG MEMCASH_GRPC_USER
ARG MEMCASH_GRPC_PASS
ARG MEMCASH_TICKER_INTERVAL

ENV MEMCASH_GRPC_PORT $MEMCASH_GRPC_PORT
ENV MEMCASH_GRPC_USER $MEMCASH_GRPC_USER
ENV MEMCASH_GRPC_PASS $MEMCASH_GRPC_PASS
ENV MEMCASH_TICKER_INTERVAL $MEMCASH_TICKER_INTERVAL

CMD ["/memcash"]

EXPOSE $MEMCASH_GRPC_PORT $MEMCASH_WEBSOCKET_PORT